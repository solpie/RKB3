!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";a(!function(){var e=new Error('Cannot find module "script!./../../libs/jquery.min.js"');throw e.code="MODULE_NOT_FOUND",e}()),a(21),a(!function(){var e=new Error('Cannot find module "script!./../../libs/vue/vue.min.js"');throw e.code="MODULE_NOT_FOUND",e}()),a(!function(){var e=new Error('Cannot find module "script!./../../libs/vue/vue-router.min.js"');throw e.code="MODULE_NOT_FOUND",e}());var r=a(1),n=a(3),i=a(6),o=a(12),s=a(19),l=[{path:"/",name:"home",components:{content:n.homeView,Navbar:r.Navbar}},{path:"/player",name:"player",components:{content:i.PlayerView,Navbar:r.Navbar}},{path:"/panel",name:"panel",components:{content:s.PanelView,Navbar:r.Navbar}},{path:"/rank",name:"rank",components:{content:o.RankView,Navbar:r.Navbar}}],c=new VueRouter({routes:l});c.afterEach(function(e,t){var a=e.path;c.app.active=a.split("/")[1]});new Vue({router:c}).$mount("#app")},function(e,t,a){"use strict";t.Navbar={props:{active:{}},template:a(2),methods:{}}},function(e,t){e.exports='<nav class="nav has-shadow" >\r\n    <div class="container">\r\n        <div class="nav-left">\r\n            <a class="nav-item" :class="{active: active === \'\'}">\r\n                <i class="home icon"></i>\r\n                <router-link :to="{ name: \'home\'}">Home</router-link>\r\n            </a>\r\n            <a class="nav-item" :class="{active: active === \'player\'}">\r\n                <i class="grid layout icon"></i>\r\n                <router-link :to="{ name: \'player\'}">玩家管理</router-link>\r\n            </a>\r\n            <a class="nav-item" :class="{active: active === \'panel\'}">\r\n                <router-link :to="{ name: \'panel\'}">比赛管理</router-link>\r\n            </a>\r\n            <a class="nav-item" :class="{active: active === \'rank\'}">\r\n                <router-link :to="{ name: \'rank\'}">天梯排名</router-link>\r\n            </a>\r\n        </div>\r\n\r\n        <div class="nav-right">\r\n            <a class="nav-item" :class="{active: active === \'setting\'}">\r\n                <router-link :to="{ name: \'setting\'}">setting</router-link>\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</nav>\r\n'},function(e,t,a){"use strict";var r=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},n=a(4),i=function(e){function t(){e.call(this),this.template=a(5),this.links=n.VueBase.PROP,this.opUrlArr=n.VueBase.PROP,this.selected=n.VueBase.PROP,this.options=n.VueBase.PROP,this.gameDataArr=n.VueBase.PROP,this.iosParam=n.VueBase.Dict,this.rmtpUrl=n.VueBase.String,this.watch={selected:"onSelGameID"},this.methods={onSelGameID:function(e){this.updateLinks(e),$.get("http://"+window.location.host+"/admin/sync/"+this.selected,function(e){console.log(e)})},onClkQRCode:function(){this.genQRCode()}},n.VueBase.initProps(this)}return r(t,e),t.prototype.created=function(){var e=this;console.log("post /admin/");var t="http://api.liangle.com/api/passerbyking/game/list";$.get("http://"+window.location.host+"/get?url="+t,function(t){var a=JSON.parse(t.entity);console.log(a);var r=a.data;e.gameDataArr=[];for(var n=0;n<r.length;n++){var i=r[r.length-1-n];i.text="["+i.id+"]:"+i.title,i.value=i.id,e.gameDataArr.push(i)}e.options=r})},t.prototype.mounted=function(){this.updateLinks(78)},t.prototype.updateLinks=function(e){this.links=[{title:"战团排行",url:"/panel/#/ol/auto/"+e+"?score=0"},{title:"八强对阵",url:"/panel/#!/bracket/auto/"+e},{title:"比分面板",url:"/panel/#/rkb/ob/"+e},{title:"比分面板 操作",url:"/panel/#/rkb/op/"+e},{title:"战团排行 操作",url:"/panel/#/ol/op/"+e},{title:"screen1v1 ob",url:"/panel/#/screen1v1/ob"}]},t.prototype.genQRCode=function(){this.iosParam={rtmp:this.rmtpUrl,gameId:this.selected+""},new QRCode(document.getElementById("qrcode"),{text:JSON.stringify(this.iosParam),width:256,height:256,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})},t}(n.VueBase);t.homeView=new i},function(e,t){"use strict";var a=function(){function e(){this.props={},this.methods={}}return e.initProps=function(e){for(var t in e){var a=e[t];if(a.hasOwnProperty("_"))a.hasOwnProperty("v")?e.props[t]=a.v:a.hasOwnProperty("f")&&(e.methods[t]=a.f);else{var r=a instanceof Function;r&&(e.methods[t]=a)}}},e.prototype.created=function(){},e.prototype.mounted=function(){},e.PROP={v:null,_:null},e.Dict={v:{},_:null},e.Number={v:0,_:null},e.String={v:"",_:null},e}();t.VueBase=a},function(e,t){e.exports='<div class="container">\r\n    <nav class="panel">\r\n        <p class="panel-heading">\r\n            直播面板op入口 Game ID: {{ selected }}\r\n            <span class="select">\r\n                <select v-model="selected">\r\n                    <option v-for="option in options" v-bind:value="option.value">\r\n                        {{ option.text }}\r\n                    </option>\r\n                </select>\r\n            </span>\r\n        </p>\r\n        <vue v-for="link in links">\r\n            <a class="panel-block" :href="link.url" target="_blank">\r\n                <span class="panel-icon">\r\n            <i class="fa fa-book"></i>\r\n            </span> {{link.url}}\r\n                <br>\r\n                {{link.title}}\r\n            </a>\r\n        </vue>\r\n    </nav>\r\n    推流地址:<input type="text" v-model="rmtpUrl" style="width: 1000px">\r\n    <p>\r\n    <button class="button is-primary" @click="onClkQRCode">生成IOS二维码</button>\r\n    {{iosParam | json}}\r\n    <div id="qrcode"></div>\r\n</div>\r\n'},function(e,t,a){"use strict";var r=a(7),n=a(10),i=a(8);t.PlayerView={template:a(11),components:{Profile:r.Profile},props:["total","ftId","playerArr","playerMap","ftOptionArr"],mounted:function(){var e=this;console.log("player Ready!!"),this.$http.post("/db/player",{all:!0}).then(function(t){console.log(t),e.playerArr=t.body.PlayerArr})},methods:{onClearActPlayerGameRec:function(){this.post("/panel/stage1v1/"+n.CommandId.cs_clearActPlayerGameRec)},onSaveToTotalScore:function(){this.post("/panel/stage1v1/"+n.CommandId.cs_saveToTotalScore)},onPickPlayer:function(e){this.pickPlayerIdArr.push(e),4==this.pickPlayerIdArr.length&&(console.log("pick team"),this.pickPlayerIdArrArr.push(this.pickPlayerIdArr),this.pickPlayerIdArr=[]),this.total=4*this.pickPlayerIdArrArr.length+this.pickPlayerIdArr.length},onAddPlayer:function(){$("#modal-player").openModal(),this.message="添加球员",this.isOpen=!0,this.$broadcast(i.ViewEvent.PLAYER_ADD,{ftOptionArr:this.ftOptionArr.concat()})},onAddPlayerList:function(){for(var e=[],t=0;t<this.pickPlayerIdArrArr.length;t++){var a=this.pickPlayerIdArrArr[t];e=e.concat(a)}e=e.concat(this.pickPlayerIdArr),console.log("playerList",e),this.post("/panel/stage1v1/"+n.CommandId.cs_setActPlayer,{playerIdArr:e})},onEdit:function(e,t){t.stopPropagation(),console.log("onEdit",e),$("#modal-player").openModal(),this.message="编辑球员",this.$broadcast(i.ViewEvent.PLAYER_EDIT,{playerId:e,ftOptionArr:this.ftOptionArr.concat()})},onFtSelected:function(){this.playerArr=[];for(var e in this.playerMap){var t=this.playerMap[e];t.ftId==this.ftId&&this.playerArr.push(t)}}}}},function(e,t,a){"use strict";var r=a(8),n=t.Profile;t.Profile={template:a(9),props:{name:{type:String,required:!0},intro:{type:String,required:!0},weight:{type:String,required:!0},ftId:{},ftScore:{},curFtScore:{},location:{},ftOptionArr:{type:Array,required:!0,default:[]},height:{type:String,required:!0}},watch:{name:"onName"},methods:{setProp:function(e,t){t.name=e.name,t.weight=e.weight,t.height=e.height,t.intro=e.intro,t.ftId=e.ftId,t.location=e.location,t.curFtScore=e.curFtScore,t.ftScore=e.ftScore},onName:function(e){console.log("on name change",e)},onDeletePlayer:function(){console.log("onDeletePlayer"),this.post("/admin/player/delete",{id:this.editPlayerId},function(e){"OK"==e?(console.log("delete sus"),window.location.reload()):console.error("delete failed")})},onSubmitInfo:function(e){var t=this;e.stopPropagation(),console.log("onSubmitInfo"),$(".cropper-container").hide();var a={};if(this.setProp(this,a),this.isEdit){var r=function(){t.post("/admin/player/update",{playerDoc:a},function(e){console.log(e),t.isEdit=!1,e&&window.location.reload()})};a.id=this.editPlayerId,this.isChangeAvatar?(a.avatar=this.cropper.getCroppedCanvas().toDataURL(),r(),console.log("isChangeAvatar")):r()}else this.isChangeAvatar&&(a.avatar=this.cropper.getCroppedCanvas().toDataURL()),this.$http.post("/admin/player/add",{playerData:a},function(e){console.log(e),e&&window.location.reload()})},showFile:function(e){var t=this,a=new FileReader,r=document.getElementById("image");console.log("showFile",e.target.files[0]),a.readAsDataURL(e.target.files[0]),a.onload=function(e){t.isChangeAvatar=!0,t.imagePath=e.target.result,r.src=t.imagePath,t.stage=t.initCanvas(t.imagePath,1),t.cropper=new Cropper(r,{aspectRatio:180/76,crop:function(e){t.onUpdateCropPreview(e.detail)}})}},onUpdateCropPreview:function(e){var t=e.width/180;this.bluePlayerCard&&this.bluePlayerCard.avatarBmp&&(this.bluePlayerCard.avatarBmp.x=-e.x/t,this.bluePlayerCard.avatarBmp.y=-e.y/t,this.bluePlayerCard.avatarBmp.scaleX=this.bluePlayerCard.avatarBmp.scaleY=1/t,this.redPlayerCard.avatarBmp.x=-e.x/t,this.redPlayerCard.avatarBmp.y=-e.y/t,this.redPlayerCard.avatarBmp.scaleX=this.redPlayerCard.avatarBmp.scaleY=1/t)},initCanvas:function(e,t){},onFtSelected:function(e){console.log("onFtSelected",e,this.ftId)}},ready:function(){var e=this;n=this,this.isEdit=!1,this.isChangeAvatar=!1,this.$on(r.ViewEvent.PLAYER_ADD,function(t){e.ftOptionArr=t.ftOptionArr.concat({text:"退团保平安",value:0})}),this.$on(r.ViewEvent.PLAYER_EDIT,function(t){var a=t.playerId;e.ftOptionArr=t.ftOptionArr.concat({text:"退团保平安",value:0}),e.isEdit=!0,e.isChangeAvatar=!1,e.post("/db/player/"+a,function(t){console.log("res: ",t);var a=t.playerDoc;e.editPlayerId=a.id,e.stage=e.initCanvas(a.avatar,1),e.setProp(a,e),e.avatar=a.avatar}),console.log(r.ViewEvent.PLAYER_EDIT,a)})}}},function(e,t){"use strict";function a(e){return e}t.PanelId={stagePanel:"stage",stage1v1Panel:"stage1v1",rkbPanel:"rkb",bracketPanel:"bracket",rankPanel:"rankPanel",onlinePanel:"online",winPanel:"win",actPanel:"act",screenPanel:"screen",playerPanel:"player"},t.FontName={MicrosoftYahei:"Microsoft Yahei"},t.ServerConst={SEND_ASYNC:!0,DEF_AVATAR:"/img/panel/stage1v1/blue.png"},t.ViewConst={STAGE_WIDTH:1920,STAGE_HEIGHT:1080},t.TimerState={START_STR:"start",PAUSE_STR:"pause",PAUSE:0,RUNNING:1},t.ViewEvent={PLAYER_EDIT:"edit player",PLAYER_ADD:"add player",STRAIGHT3_LEFT:"STRAIGHT3_LEFT",STRAIGHT3_RIGHT:"STRAIGHT3_RIGHT"},t.ScParam=a},function(e,t){e.exports='<link href="/js/cropper/cropper.css" rel="stylesheet">\r\n<!-- Modaler Structure -->\r\n<div id="modal-player" class="modal modal-fixed-footer" style="max-height:1080px;top:5%;width: 85%;height: 85%">\r\n    <div class="modal-content">\r\n        <h4>球员信息</h4>\r\n        <div class="row">\r\n            <div class="col s6">\r\n                <div class="row">\r\n                    <canvas id="avatarPreview"></canvas>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="input-field col s4">\r\n                        <!--<label for="name">显示ID</label>-->\r\n                        显示ID<input id="name" v-model="name" type="text" class="validate" length="5">\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="input-field col s2">\r\n                        身高(CM)<input id="height" v-model="height" type="text" class="validate">\r\n                        <!--<label for="height">身高(CM)</label>-->\r\n                    </div>\r\n\r\n                    <div class="input-field col s2">\r\n                        体重(KG) <input id="weight" v-model="weight" type="text" class="validate">\r\n                    </div>\r\n                    <div class="input-field col s2">\r\n                        地区 <input v-model="location" type="text" class="validate">\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="input-field col s12">\r\n                        一句话介绍 <input v-model="intro" type="text" class="validate">\r\n                    </div>\r\n\r\n                    战团： <select class="browser-default" v-model="ftId" @change="onFtSelected"\r\n                                style="width: 150px">\r\n                    <option v-for="option in ftOptionArr" v-bind:value="option.value">\r\n                        {{ option.text }}\r\n                    </option>\r\n                </select>\r\n                    <div class="row">\r\n                        <div class="input-field col s2">\r\n                            本轮得分:<input v-model="curFtScore" type="text" class="validate">\r\n                        </div>\r\n\r\n                        <div class="input-field col s2">\r\n                            总得分: <input v-model="ftScore" type="text" class="validate">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col s6">\r\n                <div class="file-field input-field">\r\n                    <div class="btn">\r\n                        <span>选择文件</span>\r\n                        <input type="file" id="file1" @change="showFile($event)"/>\r\n                    </div>\r\n                    <div class="file-path-wrapper">\r\n                        <input class="file-path validate" type="text">\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <img id="image">\r\n                </div>\r\n                <br>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <a @click="onDeletePlayer" class="left modal-action modal-close waves-effect waves-green btn-flat">\r\n            <i class="material-icons">delete</i>\r\n        </a>\r\n        <a @click="onSubmitInfo($event)" class="modal-action waves-effect waves-green btn-flat">\r\n            <i class="material-icons">done</i>\r\n        </a>\r\n    </div>\r\n</div>\r\n\r\n\r\n        '},function(e,t){"use strict";var a;!function(e){e[e.dmkPush=0]="dmkPush",e[e.toggleTracker=1]="toggleTracker",e[e.toggleBallRolling=2]="toggleBallRolling",e[e.toggleTimer=3]="toggleTimer",e[e.cs_toggleTimer=4]="cs_toggleTimer",e[e.resetTimer=5]="resetTimer",e[e.disableTracker=6]="disableTracker",e[e.updateLeftScore=7]="updateLeftScore",e[e.cs_addLeftScore=8]="cs_addLeftScore",e[e.updateRightScore=9]="updateRightScore",e[e.cs_addRightScore=10]="cs_addRightScore",e[e.updateLeftBall=11]="updateLeftBall",e[e.updateRightBall=12]="updateRightBall",e[e.cs_addLeftBall=13]="cs_addLeftBall",e[e.cs_addRightBall=14]="cs_addRightBall",e[e.cs_minLeftBall=15]="cs_minLeftBall",e[e.cs_minRightBall=16]="cs_minRightBall",e[e.cs_updateInitBallCount=17]="cs_updateInitBallCount",e[e.minLeftScore=18]="minLeftScore",e[e.cs_minLeftScore=19]="cs_minLeftScore",e[e.minRightScore=20]="minRightScore",e[e.cs_minRightScore=21]="cs_minRightScore",e[e.updateLeftFoul=22]="updateLeftFoul",e[e.cs_addLeftFoul=23]="cs_addLeftFoul",e[e.cs_minLeftFoul=24]="cs_minLeftFoul",e[e.updateRightFoul=25]="updateRightFoul",e[e.cs_addRightFoul=26]="cs_addRightFoul",e[e.cs_minRightFoul=27]="cs_minRightFoul",e[e.cs_updateLeftSkill=28]="cs_updateLeftSkill",e[e.updateLeftSkill=29]="updateLeftSkill",e[e.cs_updateRightSkill=30]="cs_updateRightSkill",e[e.updateRightSkill=31]="updateRightSkill",e[e.stageFadeOut=32]="stageFadeOut",e[e.cs_fadeOut=33]="cs_fadeOut",e[e.playerScore=34]="playerScore",e[e.cs_playerScore=35]="cs_playerScore",e[e.stageFadeIn=36]="stageFadeIn",e[e.cs_stageFadeIn=37]="cs_stageFadeIn",e[e.moveStagePanel=38]="moveStagePanel",e[e.cs_moveStagePanel=39]="cs_moveStagePanel",e[e.updatePlayer=40]="updatePlayer",e[e.cs_updatePlayer=41]="cs_updatePlayer",e[e.updatePlayerAll=42]="updatePlayerAll",e[e.cs_changeColor=43]="cs_changeColor",e[e.cs_updatePlayerAll=44]="cs_updatePlayerAll",e[e.cs_updatePlayerBackNum=45]="cs_updatePlayerBackNum",e[e.updatePlayerBackNum=46]="updatePlayerBackNum",e[e.fadeInNotice=47]="fadeInNotice",e[e.cs_fadeInNotice=48]="cs_fadeInNotice",e[e.cs_resetGame=49]="cs_resetGame",e[e.cs_toggleDmk=50]="cs_toggleDmk",e[e.toggleDmk=51]="toggleDmk",e[e.resetGame=52]="resetGame",e[e.cs_unLimitScore=53]="cs_unLimitScore",e[e.unLimitScore=54]="unLimitScore",e[e.cs_updatePlayerState=55]="cs_updatePlayerState",e[e.updatePlayerState=56]="updatePlayerState",e[e.cs_setGameIdx=57]="cs_setGameIdx",e[e.setGameIdx=58]="setGameIdx",e[e.fadeInWinPanel=59]="fadeInWinPanel",e[e.cs_fadeInWinPanel=60]="cs_fadeInWinPanel",e[e.fadeOutWinPanel=61]="fadeOutWinPanel",e[e.cs_fadeOutWinPanel=62]="cs_fadeOutWinPanel",e[e.saveGameRec=63]="saveGameRec",e[e.cs_saveGameRec=64]="cs_saveGameRec",e[e.cs_fadeInFinalPlayer=65]="cs_fadeInFinalPlayer",e[e.fadeInFinalPlayer=66]="fadeInFinalPlayer",e[e.cs_fadeOutFinalPlayer=67]="cs_fadeOutFinalPlayer",e[e.fadeOutFinalPlayer=68]="fadeOutFinalPlayer",e[e.cs_setActPlayer=69]="cs_setActPlayer",e[e.cs_setBracketPlayer=70]="cs_setBracketPlayer",e[e.cs_clearActPlayerGameRec=71]="cs_clearActPlayerGameRec",e[e.cs_getBracketPlayerByIdx=72]="cs_getBracketPlayerByIdx",e[e.cs_refreshClient=73]="cs_refreshClient",e[e.refreshClient=74]="refreshClient",e[e.cs_updateWinScore=75]="cs_updateWinScore",e[e.updateWinScore=76]="updateWinScore",e[e.cs_updateKingPlayer=77]="cs_updateKingPlayer",e[e.updateKingPlayer=78]="updateKingPlayer",e[e.cs_setCursorPlayer=79]="cs_setCursorPlayer",e[e.setCursorPlayer=80]="setCursorPlayer",e[e.cs_saveToTotalScore=81]="cs_saveToTotalScore",e[e.cs_setScorePanelVisible=82]="cs_setScorePanelVisible",e[e.setScorePanelVisible=83]="setScorePanelVisible",e[e.cs_autoSaveGameRec=84]="cs_autoSaveGameRec",e[e.cs_setDelayTime=85]="cs_setDelayTime",e[e.sc_setDelayTime=86]="sc_setDelayTime",e[e.cs_showRank=87]="cs_showRank",e[e.sc_showRank=88]="sc_showRank",e[e.cs_showBracket=89]="cs_showBracket",e[e.sc_showBracket=90]="sc_showBracket",e[e.cs_hideOnlinePanel=91]="cs_hideOnlinePanel",e[e.sc_hideOnlinePanel=92]="sc_hideOnlinePanel",e[e.cs_resetTimer=93]="cs_resetTimer",e[e.sc_resetTimer=94]="sc_resetTimer",e[e.cs_startTimer=95]="cs_startTimer",e[e.sc_startTimer=96]="sc_startTimer",e[e.cs_pauseTimer=97]="cs_pauseTimer",e[e.sc_pauseTimer=98]="sc_pauseTimer",e[e.cs_startingLine=99]="cs_startingLine",e[e.startingLine=100]="startingLine",e[e.cs_hideStartingLine=101]="cs_hideStartingLine",e[e.hideStartingLine=102]="hideStartingLine",e[e.cs_queryPlayerByPos=103]="cs_queryPlayerByPos",e[e.fadeInPlayerPanel=104]="fadeInPlayerPanel",e[e.cs_fadeInPlayerPanel=105]="cs_fadeInPlayerPanel",e[e.fadeOutPlayerPanel=106]="fadeOutPlayerPanel",e[e.cs_fadeOutPlayerPanel=107]="cs_fadeOutPlayerPanel",e[e.movePlayerPanel=108]="movePlayerPanel",e[e.cs_movePlayerPanel=109]="cs_movePlayerPanel",e[e.straightScore3=110]="straightScore3",e[e.straightScore5=111]="straightScore5",e[e.initPanel=112]="initPanel",e[e.cs_fadeInActivityPanel=113]="cs_fadeInActivityPanel",e[e.fadeInActivityPanel=114]="fadeInActivityPanel",e[e.cs_fadeInNextActivity=115]="cs_fadeInNextActivity",e[e.fadeInNextActivity=116]="fadeInNextActivity",e[e.cs_fadeInActivityExGame=117]="cs_fadeInActivityExGame",e[e.fadeInActivityExGame=118]="fadeInActivityExGame",e[e.cs_fadeOutActivityPanel=119]="cs_fadeOutActivityPanel",e[e.fadeOutActivityPanel=120]="fadeOutActivityPanel",e[e.cs_startGame=121]="cs_startGame",e[e.cs_restartGame=122]="cs_restartGame",e[e.cs_fadeInRankPanel=123]="cs_fadeInRankPanel",e[e.fadeInRankPanel=124]="fadeInRankPanel",e[e.cs_fadeInNextRank=125]="cs_fadeInNextRank",e[e.fadeInNextRank=126]="fadeInNextRank",e[e.cs_setGameComing=127]="cs_setGameComing",e[e.setGameComing=128]="setGameComing",e[e.cs_fadeOutRankPanel=129]="cs_fadeOutRankPanel",e[e.fadeOutRankPanel=130]="fadeOutRankPanel",e[e.cs_fadeInCountDown=131]="cs_fadeInCountDown",e[e.fadeInCountDown=132]="fadeInCountDown",e[e.cs_fadeOutCountDown=133]="cs_fadeOutCountDown",e[e.fadeOutCountDown=134]="fadeOutCountDown",e[e.cs_inScreenScore=135]="cs_inScreenScore",e[e.inScreenScore=136]="inScreenScore",e[e.cs_fadeInFTShow=137]="cs_fadeInFTShow",e[e.fadeInFTShow=138]="fadeInFTShow",e[e.cs_fadeOutFTShow=139]="cs_fadeOutFTShow",e[e.fadeOutFTShow=140]="fadeOutFTShow",e[e.cs_fadeInPlayerRank=141]="cs_fadeInPlayerRank",e[e.fadeInPlayerRank=142]="fadeInPlayerRank",e[e.cs_fadeInFtRank=143]="cs_fadeInFtRank",e[e.fadeInFtRank=144]="fadeInFtRank",e[e.cs_fadeInMixRank=145]="cs_fadeInMixRank",e[e.fadeInMixRank=146]="fadeInMixRank",e[e.cs_findPlayerData=147]="cs_findPlayerData",e[e.cs_attack=148]="cs_attack",e[e.attack=149]="attack",e[e.cs_addHealth=150]="cs_addHealth",e[e.addHealth=151]="addHealth",e[e.fadeInOK=152]="fadeInOK",e[e.cs_combo=153]="cs_combo",e[e.combo=154]="combo"}(a||(a={})),t.CommandId={};for(var r in a)t.CommandId[r]=r},function(e,t){e.exports='<aside class="menu">\r\n    <p class="menu-label">\r\n        Player\r\n    </p>\r\n    <ul class="menu-list">\r\n        <ul>\r\n            <li><a href="#">添加Player</a></li>\r\n            <li><a href="#">同步数据</a></li>\r\n        </ul>\r\n    </ul>\r\n    <!--<div class="ui bulleted list col s2" style="position: absolute;left: 30px">-->\r\n        <!--<div class="item">-->\r\n            <!--<div>Player</div>-->\r\n            <!--<div class="list">-->\r\n                <!--<a class="item" href="#">添加Player</a>-->\r\n                <!--<a class="item" href="#">同步数据</a>-->\r\n            <!--</div>-->\r\n        <!--</div>-->\r\n        <!--<div class="item">Inviting Friends</div>-->\r\n        <!--<div class="item">-->\r\n            <!--<div>Benefits</div>-->\r\n            <!--<div class="list">-->\r\n                <!--<a class="item" href="#">Link to somewhere</a>-->\r\n                <!--<div class="item">Rebates</div>-->\r\n                <!--<div class="item">Discounts</div>-->\r\n            <!--</div>-->\r\n        <!--</div>-->\r\n    <!--</div>-->\r\n    <div id="player-grid" class="col s10" style="position: relative;left: 290px">\r\n        <div class="row" v-for="player in playerArr" style="display: inline-block;margin: 0">\r\n            <div class="col s12">\r\n                <div class="ui small fade reveal image">\r\n                    <img class="visible content" src="{{player.avatar}}" style="width: 300px;height: 300px;">\r\n                    <div class="hidden content">\r\n                         <span class="card-title activator grey-text text-darken-4">{{player.name}}\r\n                                <i class="material-icons right" @click="onEdit(player.id,$event)">mode_edit</i></span>\r\n                        本轮得分:{{player.curFtScore}}\r\n                        总分:{{player.ftScore}}\r\n                        id:{{player.id}}\r\n                    </div>\r\n                </div>\r\n                <!--<div class="card small" style="width:300px;height: 300px">-->\r\n                <!--<i class="material-icons left waves-effect waves-block waves-light"-->\r\n                <!--@click="onPickPlayer(player.id)">playlist_add</i>-->\r\n                <!--<div class="card-image waves-effect waves-block waves-light">-->\r\n                <!--<img class="activator" src="{{player.avatar}}">-->\r\n                <!--</div>-->\r\n                <!--<div class="card-content">-->\r\n                <!--<span class="card-title activator grey-text text-darken-4">{{player.name}}-->\r\n                <!--<i class="material-icons right" @click="onEdit(player.id,$event)">mode_edit</i></span>-->\r\n                <!--本轮得分:{{player.curFtScore}}-->\r\n                <!--总分:{{player.ftScore}}-->\r\n                <!--id:{{player.id}}-->\r\n                <!--</div>-->\r\n                <!--<div class="card-reveal">-->\r\n                <!--<span class="card-title grey-text text-darken-4">战绩<i-->\r\n                <!--class="material-icons right">close</i></span>-->\r\n                <!--<p></p>-->\r\n                <!--</div>-->\r\n                <!--</div>-->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</aside>\r\n\r\n\r\n'},function(e,t,a){"use strict";var r=a(13),n=a(14),i=a(16);t.RankView={template:a(18),props:{playerDocArr:{type:Array},gameRecArr:{type:Array},playerMap:{type:Array},playerGameRecArr:{type:Array},pageIdx:{type:Number},playerGameRecPageArr:{type:Array}},mounted:function(){var e=this;console.log("rank"),this.playerGameRecArr=[{left:{name:"player3",score:1},right:{name:"player1",score:2}}];var t,a=[],i=[],o=function(s){if(s<a.length){t=a[s];var l="http://api.liangle.com/api/passerbyking/game/match/"+t;$.get("http://"+window.location.host+"/get?url="+l,function(e){var r=JSON.parse(e.entity);console.log(r),r.round=t,i.push(r);var n=Math.floor((s+1)/a.length*100);console.log("progress",n),$("#progress1").val(n),o(s+1)})}else{e.gameRecArr=[];var c=n.getEloRank(i,e.gameRecArr);e.playerMap=c,setInterval(function(){$("#progress1").hide(),e.playerDocArr=r.mapToArr(c).sort(r.descendingProp("eloScore"))},500)}},s="http://api.liangle.com/api/passerbyking/game/list";$.get("http://"+window.location.host+"/get?url="+s,function(e){var t=JSON.parse(e.entity).data;console.log(t);for(var r=0;r<t.length;r++){var n=t[r];a.push(n.id)}o(0)})},methods:{onSortWinPercent:function(){console.log("onSortWinPercent")},onClkGameRecPage:function(e){this.playerGameRecArr=this.playerGameRecPageArr[e]},onShowRec:function(e){this.playerGameRecArr=[],this.playerGameRecPageArr=[];for(var t=10,a=[],r=0;r<this.gameRecArr.length;r++){var n=this.gameRecArr[r];n.left.name!=e&&n.right.name!=e||(n.left.name==e&&(n.win=n.left.score>n.right.score),n.right.name==e&&(n.win=n.left.score<n.right.score),n.name=e,a.push(n),a.length%t==0&&(this.playerGameRecPageArr.push(a),a=[]))}a.length&&this.playerGameRecPageArr.push(a),this.playerGameRecArr=this.playerGameRecPageArr[0],console.log("onShowRec",e,this.playerGameRecPageArr.length)},onSortGameCount:function(){for(var e=0,t=this.playerDocArr;e<t.length;e++){var a=t[e];a.gameCount=i.PlayerInfo.gameCount(a)}this.playerDocArr.sort(r.descendingProp("gameCount")),console.log("onSortGameCount")}}}},function(e,t){"use strict";function a(e){return function(t,a){return t[e]-a[e]}}function r(e){return function(t,a){return a[e]-t[e]}}function n(e,t,a){var r=[];for(var n in e)r.push(e[n]);return r.sort(a(t)),r}function i(e,t){var a=[];for(var r in e)a.push(e[r]);return t&&(a=JSON.parse(JSON.stringify(a))),a}function o(e,t){for(var a=0,r=0;r<t.length;r++){var n=t[r];e.indexOf(n)>-1&&a++}return a}function s(e,t,a){return t==a.indexOf(e)}function l(e,t){var a=new Image;a.onload=function(){t(a)},a.src=e}function c(e,t){function a(){i--,0===i&&(i=-1,t(r))}var r,n,i=e.length;i&&e[0].hasOwnProperty("name")&&e[0].hasOwnProperty("url")?(n=!1,r={}):(n=!0,r=[]);for(var o,s,l=0;l<e.length;l++){var c=e[l];o=new Image,n?(r.push(o),s=c):(r[c.name]=o,s=c.url),o.onload=a,o.src=s}}function d(e,t){var a=[];return function e(t,r,n){if(0==n)return a.push(t);for(var i=0,o=r.length;i<=o-n;i++)e(t.concat(r[i]),r.slice(i+1),n-1)}([],e,t),a}function h(e,t,a){void 0===t&&(t=":"),void 0===a&&(a="");var r=Math.floor(e/60),n=e%60,i=r+"",o=n+"";return r<10&&(i="0"+i),n<10&&(o="0"+o),i+t+o+a}function u(e){for(var t=0,a=e.length,r=-1,n=0;n<a;n++)r=e.charCodeAt(n),t+=r>=0&&r<=128?1:2;return t}function p(e,t,a){void 0===a&&(a=0);for(var r=0,n=e.length,i=new String,o="",s=a;s<n;s++){var l=e.charAt(s);r++,escape(l).length>4&&r++,i=i.concat(l),r>=t&&(o+=i.concat("\n"),i=new String,r=0)}return o+=i}t.ascendingProp=a,t.descendingProp=r,t.mapToSortArray=n,t.mapToArr=i,t.arrCountSame=o,t.arrUniqueFilter=s,t.loadImg=l,t.loadImgArr=c,t.combineArr=d,t.formatSecond=h,t.getLength=u,t.cnWrap=p,t.getUrlFilename=function(e){var t=e.split("/"),a=t[t.length-1];return a},t.DateFormat=function(e,t){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in a)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return t}},function(e,t,a){"use strict";var r=a(15);t.getEloRank=function(e,t){for(var a={},n=e,i=0;i<n.length;i++)for(var o=n[i],s=1;;s++){var l=o.data[s];if(!l)break;var c=l.left,d=l.right;a[c.name]||(a[c.name]={name:c.name,winGameCount:0,loseGameCount:0,roundCount:0,score:0,eloScore:2e3}),a[d.name]||(a[d.name]={name:d.name,winGameCount:0,loseGameCount:0,roundCount:0,score:0,eloScore:2e3});var h=a[c.name],u=a[d.name];t.push({round:o.round,left:{name:h.name,score:c.score},right:{name:u.name,score:d.score}});var p=r.EloUtil.classicMethod(h.eloScore,u.eloScore);h.score+=c.score,u.score+=d.score,c.score>d.score?(h.eloScore+=p,u.eloScore-=p,h.winGameCount+=1,u.loseGameCount+=1):(h.eloScore-=p,u.eloScore+=p,h.loseGameCount+=1,u.winGameCount+=1)}return a}},function(e,t){"use strict";t.EloConf={score:2e3,K:32};var a=function(){function e(){}return e.classicMethod=function(e,a){var r=e,n=a,i=t.EloConf.K,o=n-r,s=1/(1+Math.pow(10,o/400)),l=Math.round(i*(1-s));return l},e.playerToWinMethod=function(e,t){},e}();t.EloUtil=a},function(e,t,a){"use strict";var r=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},n=a(17),i=function(){function e(){this.id=0,this.name="",this.phone=0,this.eloScore=0,this.style=0,this.avatar="",this.height=0,this.weight=0,this.dtScore=0,this.activityId=0,this.gameRec=[],this.loseGameCount=0,this.winGameCount=0,this.ftId=0,this.ftScore=0,this.playerNum=0,this.curFtScore=0,this.location="上海"}return e}();t.PlayerDoc=i,t.PlayerState1v1={FIGHTING:" ",PIGEON:"鸽子",WAITING:"  ",Dead:"淘汰"};var o=function(e){function t(t){e.call(this),this.playerData=new i,this.isRed=!0,this.isMvp=!1,this.backNumber=0,t&&(null!=t.playerData?(this.playerData=n.obj2Class(t.playerData,i),this.setPlayerInfoFromData(t)):(this.playerData=n.obj2Class(t,i),this.setPlayerInfoFromData(t)))}return r(t,e),t.prototype.setPlayerInfoFromData=function(e){null!=e.isRed&&(this.isRed=e.isRed),null!=e.isMvp&&(this.isMvp=e.isMvp),null!=e.backNumber&&(this.backNumber=e.backNumber)},t.prototype.getPlayerData=function(){return this.playerData.isRed=this.isRed,this.playerData.isMvp=this.isMvp,this.playerData.backNumber=this.backNumber,this.playerData},t.prototype.id=function(e){return n.prop(this.playerData,"id",e)},t.prototype.phone=function(e){return n.prop(this.playerData,"phone",e)},t.prototype.name=function(e){return n.prop(this.playerData,"name",e)},t.prototype.activityId=function(e){return n.prop(this.playerData,"activityId",e)},t.prototype.eloScore=function(e){return n.prop(this.playerData,"eloScore",e)},t.prototype.dtScore=function(e){return n.prop(this.playerData,"dtScore",e)},t.prototype.style=function(e){return n.prop(this.playerData,"style",e)},t.prototype.avatar=function(e){return n.prop(this.playerData,"avatar",e)},t.prototype.gameRec=function(e){return n.prop(this.playerData,"gameRec",e)},t.winPercent=function(e){var a=e.winGameCount/t.gameCount(e);return a||(a=0),a},t.winPercentStr=function(e){return(100*t.winPercent(e)).toFixed(1)+"%"},t.weight=function(e){return e.weight||e.playerData.weight},t.height=function(e){return e.height||e.playerData.height},t.intro=function(e){return e.intro||e.playerData.intro},t.prototype.winpercent=function(e){return this.winGameCount()/this.gameCount()},t.gameCount=function(e){return e.loseGameCount+e.winGameCount||0},t.addWinGameAmount=function(e){return e.winGameCount++,e.winGameCount},t.addLoseGameAmount=function(e){
return e.loseGameCount++,e.loseGameCount},t.prototype.gameCount=function(){return this.loseGameCount()+this.winGameCount()},t.prototype.winGameCount=function(e){return n.prop(this.playerData,"winGameCount",e)},t.prototype.loseGameCount=function(e){return n.prop(this.playerData,"loseGameCount",e)},t.prototype.getWinPercent=function(){return(100*this.winpercent()).toFixed(1)+"%"},t.getStyleIcon=function(e){var t="/img/panel/stage/";return 1===e?t+="feng.png":2===e?t+="lin.png":3===e?t+="huo.png":4===e&&(t+="shan.png"),t},t.prototype.getWinStyleIcon=function(){var e="/img/panel/stage/win/";return 1==this.style()?e+="fengWin.png":2==this.style()?e+="linWin.png":3==this.style()?e+="huoWin.png":4==this.style()&&(e+="shanWin.png"),e},t.prototype.getRec=function(){return{id:this.id(),eloScore:this.eloScore(),dtScore:this.dtScore()}},t.prototype.saveScore=function(e,t){this.dtScore(e),this.eloScore(this.eloScore()+e),t?this.winGameCount(this.winGameCount()+1):this.loseGameCount(this.loseGameCount()+1)},t.prototype.getCurWinningPercent=function(){return this.winGameCount()/(this.loseGameCount()+this.winGameCount())},t}(n.BaseInfo);t.PlayerInfo=o},function(e,t){"use strict";function a(e,t){for(var a in e)t.hasOwnProperty(a)&&(t[a]=e[a])}t.isdef=function(e){return void 0!=e},t.prop=function(e,a,r,n){return t.isdef(r)?(e[a]=r,void(n&&n())):e[a]},t.obj2Class=function(e,t){var a=new t;for(var r in e)a[r]=e[r];return a},t.setPropTo=a;var r=function(){function e(){}return e}();t.BaseDoc=r;var n=function(){function e(){}return e}();t.BaseInfo=n},function(e,t){e.exports='<!--<script src="../../../../../yqbe/src/utils/nmserver/app.js"></script>-->\r\n<div>\r\n    <progress id="progress1" class="progress is-success" value="0" max="100"></progress>\r\n    <div class="ui two column grid" style="">\r\n        <table class="table is-striped">\r\n            <thead>\r\n            <tr>\r\n                <th width="50px"></th>\r\n                <th width="150px">ID</th>\r\n                <th width="50px" @click="onSortGameCount">场数</th>\r\n                <th width="70px" @click="onSortWinPercent">胜率</th>\r\n                <th width="70px">贡献值</th>\r\n                <th width="70px">天梯分</th>\r\n                <th>战绩</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for="(playerDoc,index) in playerDocArr">\r\n                <!--<td><img src="{{playerDoc.avatar}}" style="width: 100px"></td>-->\r\n                <td v-text="index+1"></td>\r\n                <td v-text="playerDoc.name"></td>\r\n                <td v-text="(playerDoc.winGameCount+playerDoc.loseGameCount)||0"></td>\r\n                <td v-text="(playerDoc.winGameCount/(playerDoc.winGameCount+playerDoc.loseGameCount)*100||0).toFixed(2)+\'%\'"></td>\r\n                <td v-text="playerDoc.score"></td>\r\n                <td v-text="playerDoc.eloScore"></td>\r\n                <td>\r\n                    <button class="ui right labeled icon button showRec" @click="onShowRec(playerDoc.name)">\r\n                        <i class="right arrow icon"></i>\r\n                        查看\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <div class="four wide column" style="position: fixed;left:650px;top: 60px;">\r\n            <table class="ui striped table">\r\n                <thead>\r\n                <tr>\r\n                    <th>round</th>\r\n                    <th width="150px">ID</th>\r\n                    <th width="80px">VS</th>\r\n                    <th width="150px">ID</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for="(rec,index) in playerGameRecArr" :class="[{ positive: rec.win }, { negative: !rec.win }]">\r\n                    <td v-text="rec.round"></td>\r\n                    <td v-text="rec.left.name" :class="{bold:rec.name==rec.left.name}"></td>\r\n                    <td v-text="rec.left.score+\' : \'+rec.right.score"></td>\r\n                    <td v-text="rec.right.name" :class="{bold:rec.name==rec.right.name}"></td>\r\n                </tr>\r\n                </tbody>\r\n                <tfoot>\r\n                <tr>\r\n                    <th colspan="3">\r\n                        <div class="ui right floated pagination menu">\r\n                            <a class="icon item">\r\n                                <i class="left chevron icon"></i>\r\n                            </a>\r\n                            <a class="item " v-for="(page,pageIdx) in playerGameRecPageArr"\r\n                               @click="onClkGameRecPage(pageIdx)">{{pageIdx+1}}</a>\r\n                            <a class="icon item">\r\n                                <i class="right chevron icon"></i>\r\n                            </a>\r\n                        </div>\r\n                    </th>\r\n                </tr>\r\n                </tfoot>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'},function(e,t,a){"use strict";t.PanelView={template:a(20),props:{selected:null,options:null},watch:{selected:"onSelGameID"},gameDataArr:null,created:function(){var e=this,t="http://api.liangle.com/api/passerbyking/game/list";$.get("http://"+window.location.host+"/get?url="+t,function(t){var a=JSON.parse(t.entity);console.log(a);var r=a.data;e.gameDataArr=r;for(var n=0;n<r.length;n++){var i=r[n];i.text="["+i.id+"]:"+i.title,i.value=i.id}e.options=r})},mounted:function(){},methods:{onClkSync:function(){console.log("onClkSync")},onSelGameID:function(){$.get("http://"+window.location.host+"/admin/sync/"+this.selected,function(e){console.log(e)})}}}},function(e,t){e.exports='<div>\r\n    <span class="select">\r\n        <select v-model="selected">\r\n            <option v-for="option in options" v-bind:value="option.value">\r\n                {{ option.text }}\r\n            </option>\r\n        </select>\r\n        Game ID: {{ selected }}\r\n        <button class="button is-primary" @click="onClkSync">同步</button>\r\n    </span>\r\n\r\n    <div class="card" v-for="(player,index) in playerArr">\r\n        <div class="card-image">\r\n            <figure class="image is-4by4">\r\n                <img src="{{player.avatar}}">\r\n            </figure>\r\n        </div>\r\n        <div class="card-content">\r\n            <div class="media">\r\n                <div class="media-left">\r\n                    <figure class="image is-32x32">\r\n                        <img src="http://placehold.it/64x64" alt="Image">\r\n                    </figure>\r\n                </div>\r\n                <div class="media-content">\r\n                    <p class="title is-5">{{player.name}}</p>\r\n                    <p class="subtitle is-6">@johnsmith</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,a){a(22)(a(23))},function(e,t){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},function(e,t){e.exports='var QRCode;!function(){function a(a){this.mode=c.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=[],d=0,e=this.data.length;e>d;d++){var f=this.data.charCodeAt(d);f>65536?(b[0]=240|(1835008&f)>>>18,b[1]=128|(258048&f)>>>12,b[2]=128|(4032&f)>>>6,b[3]=128|63&f):f>2048?(b[0]=224|(61440&f)>>>12,b[1]=128|(4032&f)>>>6,b[2]=128|63&f):f>128?(b[0]=192|(1984&f)>>>6,b[1]=128|63&f):b[0]=f,this.parsedData=this.parsedData.concat(b)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function b(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function j(a,b){this.totalCount=a,this.dataCount=b}function k(){this.buffer=[],this.length=0}function m(){return"undefined"!=typeof CanvasRenderingContext2D}function n(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=!0,aMat=b.toString().match(/android ([0-9]\\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}function r(a,b){for(var c=1,e=s(a),f=0,g=l.length;g>=f;f++){var h=0;switch(b){case d.L:h=l[f][0];break;case d.M:h=l[f][1];break;case d.Q:h=l[f][2];break;case d.H:h=l[f][3]}if(h>=e)break;c++}if(c>l.length)throw new Error("Too long data");return c}function s(a){var b=encodeURI(a).toString().replace(/\\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a?3:0)}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},b.prototype={addData:function(b){var c=new a(b);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,c){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,c),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=b.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=f.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var a=f.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var g=-2;2>=g;g++)for(var h=-2;2>=h;h++)this.modules[d+g][e+h]=-2==g||2==g||-2==h||2==h||0==g&&0==h?!0:!1}},setupTypeNumber:function(a){for(var b=f.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=f.getBCHTypeInfo(c),e=0;15>e;e++){var g=!a&&1==(1&d>>e);6>e?this.modules[e][8]=g:8>e?this.modules[e+1][8]=g:this.modules[this.moduleCount-15+e][8]=g}for(var e=0;15>e;e++){var g=!a&&1==(1&d>>e);8>e?this.modules[8][this.moduleCount-e-1]=g:9>e?this.modules[8][15-e-1+1]=g:this.modules[8][15-e-1]=g}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,g=0,h=this.moduleCount-1;h>0;h-=2)for(6==h&&h--;;){for(var i=0;2>i;i++)if(null==this.modules[d][h-i]){var j=!1;g<a.length&&(j=1==(1&a[g]>>>e));var k=f.getMask(b,d,h-i);k&&(j=!j),this.modules[d][h-i]=j,e--,-1==e&&(g++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},b.PAD0=236,b.PAD1=17,b.createData=function(a,c,d){for(var e=j.getRSBlocks(a,c),g=new k,h=0;h<d.length;h++){var i=d[h];g.put(i.mode,4),g.put(i.getLength(),f.getLengthInBits(i.mode,a)),i.write(g)}for(var l=0,h=0;h<e.length;h++)l+=e[h].dataCount;if(g.getLengthInBits()>8*l)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+8*l+")");for(g.getLengthInBits()+4<=8*l&&g.put(0,4);0!=g.getLengthInBits()%8;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*l)break;if(g.put(b.PAD0,8),g.getLengthInBits()>=8*l)break;g.put(b.PAD1,8)}return b.createBytes(g,e)},b.createBytes=function(a,b){for(var c=0,d=0,e=0,g=new Array(b.length),h=new Array(b.length),j=0;j<b.length;j++){var k=b[j].dataCount,l=b[j].totalCount-k;d=Math.max(d,k),e=Math.max(e,l),g[j]=new Array(k);for(var m=0;m<g[j].length;m++)g[j][m]=255&a.buffer[m+c];c+=k;var n=f.getErrorCorrectPolynomial(l),o=new i(g[j],n.getLength()-1),p=o.mod(n);h[j]=new Array(n.getLength()-1);for(var m=0;m<h[j].length;m++){var q=m+p.getLength()-h[j].length;h[j][m]=q>=0?p.get(q):0}}for(var r=0,m=0;m<b.length;m++)r+=b[m].totalCount;for(var s=new Array(r),t=0,m=0;d>m;m++)for(var j=0;j<b.length;j++)m<g[j].length&&(s[t++]=g[j][m]);for(var m=0;e>m;m++)for(var j=0;j<b.length;j++)m<h[j].length&&(s[t++]=h[j][m]);return s};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},e={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;f.getBCHDigit(b)-f.getBCHDigit(f.G15)>=0;)b^=f.G15<<f.getBCHDigit(b)-f.getBCHDigit(f.G15);return(a<<10|b)^f.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;f.getBCHDigit(b)-f.getBCHDigit(f.G18)>=0;)b^=f.G18<<f.getBCHDigit(b)-f.getBCHDigit(f.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return f.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case e.PATTERN000:return 0==(b+c)%2;case e.PATTERN001:return 0==b%2;case e.PATTERN010:return 0==c%3;case e.PATTERN011:return 0==(b+c)%3;case e.PATTERN100:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case e.PATTERN101:return 0==b*c%2+b*c%3;case e.PATTERN110:return 0==(b*c%2+b*c%3)%2;case e.PATTERN111:return 0==(b*c%3+(b+c)%2)%2;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new i([1],0),c=0;a>c;c++)b=b.multiply(new i([1,g.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},g={glog:function(a){if(1>a)throw new Error("glog("+a+")");return g.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return g.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;8>h;h++)g.EXP_TABLE[h]=1<<h;for(var h=8;256>h;h++)g.EXP_TABLE[h]=g.EXP_TABLE[h-4]^g.EXP_TABLE[h-5]^g.EXP_TABLE[h-6]^g.EXP_TABLE[h-8];for(var h=0;255>h;h++)g.LOG_TABLE[g.EXP_TABLE[h]]=h;i.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=g.gexp(g.glog(this.get(c))+g.glog(a.get(d)));return new i(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=g.glog(this.get(0))-g.glog(a.get(0)),c=new Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(var d=0;d<a.getLength();d++)c[d]^=g.gexp(g.glog(a.get(d))+b);return new i(c,0).mod(a)}},j.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],j.getRSBlocks=function(a,b){var c=j.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,e=[],f=0;d>f;f++)for(var g=c[3*f+0],h=c[3*f+1],i=c[3*f+2],k=0;g>k;k++)e.push(new j(h,i));return e},j.getRsBlockTable=function(a,b){switch(b){case d.L:return j.RS_BLOCK_TABLE[4*(a-1)+0];case d.M:return j.RS_BLOCK_TABLE[4*(a-1)+1];case d.Q:return j.RS_BLOCK_TABLE[4*(a-1)+2];case d.H:return j.RS_BLOCK_TABLE[4*(a-1)+3];default:return void 0}},k.prototype={get:function(a){var b=Math.floor(a/8);return 1==(1&this.buffer[b]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],o=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function g(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}var b=this._htOption,c=this._el,d=a.getModuleCount();Math.floor(b.width/d),Math.floor(b.height/d),this.clear();var h=g("svg",{viewBox:"0 0 "+String(d)+" "+String(d),width:"100%",height:"100%",fill:b.colorLight});h.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),c.appendChild(h),h.appendChild(g("rect",{fill:b.colorDark,width:"1",height:"1",id:"template"}));for(var i=0;d>i;i++)for(var j=0;d>j;j++)if(a.isDark(i,j)){var k=g("use",{x:String(i),y:String(j)});k.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),h.appendChild(k)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),p="svg"===document.documentElement.tagName.toLowerCase(),q=p?o:m()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function d(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement("img"),e=function(){c._bSupportDataURI=!1,c._fFail&&_fFail.call(c)},f=function(){c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,d.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var b=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,d,e,f,g,h,i,j){if("nodeName"in a&&/img/i.test(a.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*b;else"undefined"==typeof j&&(arguments[1]*=b,arguments[2]*=b,arguments[3]*=b,arguments[4]*=b);c.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=n(),this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display="none",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&d.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=[\'<table style="border:0;border-collapse:collapse;">\'],h=0;d>h;h++){g.push("<tr>");for(var i=0;d>i;i++)g.push(\'<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:\'+e+"px;height:"+f+"px;background-color:"+(a.isDark(h,i)?b.colorDark:b.colorLight)+\';"></td>\');g.push("</tr>")}g.push("</table>"),c.innerHTML=g.join("");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+"px "+k+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];"string"==typeof a&&(a=document.getElementById(a)),this._android=n(),this._el=a,this._oQRCode=null,this._oDrawing=new q(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(a){this._oQRCode=new b(r(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=d}();'}]);
//# sourceMappingURL=admin.js.map