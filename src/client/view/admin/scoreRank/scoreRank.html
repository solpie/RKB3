<div class="container">
    <a href="/html/ww/group.html">小组赛</a>
    <a href="/html/ww/bracket2.html">8进4 final晋级</a>
    <a href="/html/ww/rank8.html">rank8</a>
    <a href="/html/intro/ww/intro.html?group=a">小组介绍 group=a</a>
    <hr>
    <span class="select">
            <select v-model="selected" @change="onSelectGame">
                <option v-for="option in options" v-bind:value="option.value">
                    {{ option.text }}
                </option>
            </select>
        </span>

    <input type="file" id="files" accept="*.json" hidden>
    <input type="text" v-model="vsPlayer" style="width: 100px;">
    <button class="button is-primary" @click="onInitGame">初始比赛</button>
    <button class="button is-primary" @click="onCreateGame">创建比赛</button>
    <button class="button is-primary" @click="onShowWinMap">战胜对手</button>
    <br>
    <br>
    <button class="button is-primary" @click="onFile">打开配置</button>
    <button class="button is-primary" id="reloadFile" @click="reloadFile">reload</button>
    <br>

    <div style="width: 900px;">
        <br> score rank:
        <br>
        <button class="button is-primary" @click="onShowScoreRank(true)">show</button>
        <button class="button is-primary" @click="onReloadShow()">reload show</button>
        <button class="button is-primary" @click="onSetPlayerDeactive()">set player deactive</button>
        <button class="button is-primary" @click="onShowScoreRank(false)">hide</button>
        <br>
        <div class="tabs  is-boxed">
            <ul>
                <li v-bind:class="{ 'is-active': actTab== 'tab1'}" @click='tab("tab1")'>
                    <a>
                        <span>picker</span>
                    </a>
                </li>
                <li v-bind:class="{ 'is-active': actTab== 'tab11'}" @click='tab("tab11",1)'>
                    <a>
                        <span>bracket rec 1</span>
                    </a>
                </li>
                <li v-bind:class="{ 'is-active': actTab== 'tab12'}" @click='tab("tab12",2)'>
                    <a>
                        <span> rec 2</span>
                    </a>
                </li>
                <li v-bind:class="{ 'is-active': actTab== 'tab13'}" @click='tab("tab13",3)'>
                    <a>
                        <span> 8-4</span>
                    </a>
                </li>
                <li v-bind:class="{ 'is-active': actTab== 'tab14'}" @click='tab("tab14",4)'>
                    <a>
                        <span> final</span>
                    </a>
                </li>
                <li v-bind:class="{ 'is-active': actTab== 'tab3'}" @click='tab("tab3")'>
                    <a>
                        <span>rec</span>
                    </a>
                </li>

                <li v-bind:class="{ 'is-active': actTab== 'tab6'}" @click='tab("tab6")'>
                    <a>
                        <span>rank 16</span>
                    </a>
                </li>
            </ul>
        </div>
        <div v-if='actTab=="tab11" ||actTab=="tab12"||actTab=="tab13"||actTab=="tab14"'>
            <div v-if="1" class="control">
                selected gameIdx:{{selGameIdx}}
                <input id="bracketScoreInput" class="input" type="text" style="width: 80px;">
                <button class="button btn-setScore" @click="onSetScore(selGameIdx,'#bracketScoreInput')">修改比分</button>
                <button class="button" @click="onSetVsPlayer(selGameIdx,vsPlayer)">修改对阵↑</button>
                <button class="button" @click="onEmitBracket(actTab)">emit bracket rec</button>
            </div>
            <div v-for="(item, index) in bracketRec" :key="item.s">
                <div v-if="item.gameIdx>0" :style='item.s+" position: absolute;"'>
                    <div v-if="item.isH">
                        <a @click="setGameIdx(item.gameIdx,item.playerId)">#{{item.gameIdx}} {{item.player[0]}}_{{item.playerId[0]}}  {{item.score[0]}}</a> ----
                        <a @click="setGameIdx(item.gameIdx,item.playerId)">{{item.score[1]}} {{item.player[1]}}_{{item.playerId[1]}}  </a>
                    </div>
                    <div v-if="!item.isH">
                        <a @click="setGameIdx(item.gameIdx,item.playerId)">#{{item.gameIdx}} {{item.player[0]}}_{{item.playerId[0]}}  {{item.score[0]}}</a> <br>| <br>
                        <a @click="setGameIdx(item.gameIdx,item.playerId)">### {{item.player[1]}}_{{item.playerId[1]}}  {{item.score[1]}}</a>
                    </div>
                </div>
            </div>
        </div>
        <div v-if='actTab=="tab1"' class="level">
            <div class="level-left">
                <ul style="width:400px;overflow:hidden;zoom:1;border:1px solid #ccc">
                    <li style="float:left;width:190px;padding:5px" v-for="player in blueArr">
                        <button class="button is-primary" @click="onChangePlayer(true,player.playerId)">{{player.name}}</button>
                    </li>
                </ul>
            </div>
            <div class="level-right">
                <ul style="width:400px;overflow:hidden;zoom:1;border:1px solid #ccc">
                    <li style="float:left;width:190px;padding:5px" v-for="player in redArr">
                        <button class="button is-primary" @click="onChangePlayer(false,player.playerId)">{{player.name}}</button>
                    </li>
                </ul>
            </div>
        </div>
        <div v-if='actTab=="tab3"' style="overflow-y: scroll;height: 800px;">
            <button class="button is-danger" @click="onInitDoc">init doc</button>
            <table class="table is-striped is-bordered">
                <thead>
                    <tr>
                        <th><abbr title="Position">#gameIdx</abbr></th>
                        <th>L player</th>
                        <th>score</th>
                        <th>R player</th>
                        <th>operation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(rec,index) in recArr" :key="index" v-bind:class="[rec.gameIdx==selGameIdx?'is-selected':'']">
                        <th><a @click="setGameIdx(rec.gameIdx)">#####{{rec.gameIdx}} {{rec.isGroup}}</a></th>
                        <td> {{rec.name[0]}} </td>
                        <td> {{rec.score[0]}} - {{rec.score[1]}} </td>
                        <td> {{rec.name[1]}} </td>
                        <td>
                            <div class="control" v-if="rec.gameIdx==selGameIdx">
                                <input class="input" :id="'scoreInput'+rec.gameIdx" type="text" style="width: 80px;">
                                <button class="button btn-setScore" @click="onSetScore(rec.gameIdx)">修改比分</button>
                                <button class="button btn-setScore" @click="onSetVsPlayer(rec.gameIdx,vsPlayer)">修改对阵</button>
                                <button class="button" @click="onSetGroup(rec.gameIdx)">小组赛记录</button>
                                <button class="button is-danger" @click="onDeleteGameRec(rec.gameIdx)">删除</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div v-if="actTab=='tab6'">
            rank 5 playerId<input type="text" v-model="rank5Player" style="width: 80px;">
            <button class="button is-primary" @click="onGenRank16(rank5Player)">rank16</button>
            <ul>
                <li v-for="(player,index) in rank16Arr" :key="player" style="float:left;width:190px;padding:5px">
                    {{player.rank}} - {{player.name}}
                </li>
            </ul>
        </div>
        {{p1WinMap}}
    </div>
</div>